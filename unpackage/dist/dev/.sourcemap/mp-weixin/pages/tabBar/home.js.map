{"version":3,"sources":["webpack:///E:/app_Jian_Bao/app_Jian_Bao/pages/tabBar/home.vue","webpack:///E:/app_Jian_Bao/app_Jian_Bao/pages/tabBar/home.vue?9460","webpack:///E:/app_Jian_Bao/app_Jian_Bao/pages/tabBar/home.vue?515f","webpack:///E:/app_Jian_Bao/app_Jian_Bao/pages/tabBar/home.vue?ea61","webpack:///E:/app_Jian_Bao/app_Jian_Bao/pages/tabBar/home.vue?ba9c","webpack:///E:/app_Jian_Bao/app_Jian_Bao/pages/tabBar/home.vue?7d4a","webpack:///E:/app_Jian_Bao/app_Jian_Bao/pages/tabBar/home.vue?7470"],"names":["components","data","imageUrl","actions","posts","user_id","wxTit","username","index","comment_index","userName","userAvatar","input_placeholder","focus","is_reply","showInput","screenHeight","platform","windowHeight","showLoadMore","expertList","pageSize","mounted","uni","getSystemInfo","success","res","onLoad","getStorageSync","showShareMenu","withShareTicket","isLogin","redirectTo","url","_this","$ajax","get","then","title","onShow","param","pageNum","console","log","onHide","onUnload","max","loadMoreText","computed","methods","like","islike","push","uid","splice","indexOf","comment","adjust","createSelectorQuery","selectViewport","scrollOffset","scrollTop","view","select","boundingClientRect","JSON","stringify","top","height","pageScrollTo","duration","exec","reply","replyTo","comments","blur","init_input","send_comment","message","reply_username","comment_content","content","total","previewImage","image","image_index","imgs","i","length","pic","current","urls","onShareAppMessage","ops","from","target","path","fail","fffx"],"mappings":"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","file":"pages/tabBar/home.js","sourcesContent":["//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\n// import chatInput from '../../components/im-chat/chatinput.vue'; //input框\r\n// import postData from '../../common/index/index.post.data.js'; //朋友圈数据\r\nexport default {\r\n\tcomponents: {\r\n\t\t// chatInput\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\timageUrl: '',\r\n\t\t\tactions: [],\r\n\t\t\tposts: [],\r\n\t\t\tuser_id: '',\r\n\t\t\twxTit: '',\r\n\t\t\tusername: '',\r\n\t\t\tindex: '',\r\n\t\t\tcomment_index: '',\r\n\t\t\tuserName: '',\r\n\t\t\tuserAvatar: '',\r\n\t\t\tinput_placeholder: '评论', //占位内容\r\n\t\t\tfocus: false, //是否自动聚焦输入框\r\n\t\t\tis_reply: false, //回复还是评论\r\n\t\t\tshowInput: false, //评论输入框\r\n\r\n\t\t\tscreenHeight: '', //屏幕高度(系统)\r\n\t\t\tplatform: '',\r\n\t\t\twindowHeight: '', //可用窗口高度(不计入软键盘)\r\n\r\n\t\t\t// loadMoreText: '加载中...',\r\n\t\t\tshowLoadMore: false,\r\n\t\t\texpertList: [],\r\n\t\t\tpageSize: 2\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tuni.getSystemInfo({\r\n\t\t\t//获取设备信息\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tthis.screenHeight = res.screenHeight;\r\n\t\t\t\tthis.platform = res.platform;\r\n\t\t\t}\r\n\t\t});\r\n\t\t// uni.startPullDownRefresh();\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.userName = uni.getStorageSync('userName');\r\n\t\tthis.userAvatar = uni.getStorageSync('userAvatar');\r\n\t\tuni.showShareMenu({\r\n\t\t\twithShareTicket: true\r\n\t\t});\r\n\t\tif (!this.isLogin()) {\r\n\t\t\tuni.redirectTo({\r\n\t\t\t\turl: '/pages/login/accredit'\r\n\t\t\t});\r\n\t\t}\r\n\t\tlet _this = this;\r\n\t\tthis.$ajax\r\n\t\t\t.get({\r\n\t\t\t\turl: '/user/listMaster?status=0&masterId=0&pageNum=0&pageSize=0'\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\t_this.expertList = res.data.data;\r\n\t\t\t\t// console.log(_this.actions);\r\n\t\t\t});\r\n\t\tthis.$ajax\r\n\t\t\t.get({\r\n\t\t\t\turl: '/fenxiang/selectShare'\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\t_this.wxTit = res.data.data.title;\r\n\t\t\t\t_this.imageUrl = res.data.data.url;\r\n\t\t\t\t// console.log(_this.actions);\r\n\t\t\t});\r\n\t},\r\n\tonShow() {\r\n\t\tlet _this = this;\r\n\t\tthis.$ajax\r\n\t\t\t.get({\r\n\t\t\t\turl: '/home/APPcontent',\r\n\t\t\t\tparam: {\r\n\t\t\t\t\tpageSize: 9999,\r\n\t\t\t\t\tpageNum: 1\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tconsole.log(res.data.data);\r\n\t\t\t\t_this.posts = res.data.data;\r\n\t\t\t});\r\n\t\t// uni.onWindowResize(res => {\r\n\t\t// \t//监听窗口尺寸变化,窗口尺寸不包括底部导航栏\r\n\t\t// \tif (this.platform === 'ios') {\r\n\t\t// \t\tthis.windowHeight = res.size.windowHeight;\r\n\t\t// \t\tthis.adjust();\r\n\t\t// \t} else {\r\n\t\t// \t\tif (this.screenHeight - res.size.windowHeight > 60 && this.windowHeight <= res.size.windowHeight) {\r\n\t\t// \t\t\tthis.windowHeight = res.size.windowHeight;\r\n\t\t// \t\t\tthis.adjust();\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// });\r\n\t},\r\n\tonHide() {\r\n\t\t// uni.offWindowResize(); //取消监听窗口尺寸变化\r\n\t},\r\n\tonUnload() {\r\n\t\t(this.max = 0), (this.data = []), (this.loadMoreText = '加载更多'), (this.showLoadMore = false);\r\n\t},\r\n\t// onReachBottom() {\r\n\t// \t//监听上拉触底事件\r\n\t// \tconsole.log('onReachBottom');\r\n\t// \tthis.showLoadMore = true;\r\n\t// \tsetTimeout(() => {\r\n\t// \t\t//获取数据\r\n\t// \t\tif (this.posts.length < 5) {\r\n\t// \t\t\t//测试数据\r\n\t// \t\t\tthis.posts = this.posts.concat(this.posts);\r\n\t// \t\t} else {\r\n\t// \t\t\tthis.loadMoreText = '暂无更多';\r\n\t// \t\t}\r\n\t// \t}, 1000);\r\n\t// },\r\n\t// onPullDownRefresh() {\r\n\t// \t//监听下拉刷新动作\r\n\t// \tconsole.log('onPullDownRefresh');\r\n\t// \t// 这里获取数据\r\n\t// \tsetTimeout(function() {\r\n\t// \t\t//初始化数据\r\n\t// \t\tuni.stopPullDownRefresh(); //停止下拉刷新\r\n\t// \t}, 1000);\r\n\t// },\r\n\t// onNavigationBarButtonTap(e) {\r\n\t// \t//监听标题栏点击事件\r\n\t// },\r\n\tcomputed: {},\r\n\tmethods: {\r\n\t\tlike(index) {\r\n\t\t\tif (this.posts[index].islike === 0) {\r\n\t\t\t\tthis.posts[index].islike = 1;\r\n\t\t\t\tthis.posts[index].like.push({\r\n\t\t\t\t\tuid: this.user_id,\r\n\t\t\t\t\tusername: ',' + this.username\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.posts[index].islike = 0;\r\n\t\t\t\tthis.posts[index].like.splice(\r\n\t\t\t\t\tthis.posts[index].like.indexOf({\r\n\t\t\t\t\t\tuid: this.user_id,\r\n\t\t\t\t\t\tusername: ',' + this.username\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t1\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomment(index) {\r\n\t\t\tthis.showInput = true; //调起input框\r\n\t\t\tthis.focus = true;\r\n\t\t\tthis.index = index;\r\n\t\t},\r\n\t\tadjust() {\r\n\t\t\t//当弹出软键盘发生评论动作时,调整页面位置pageScrollTo\r\n\t\t\treturn;\r\n\t\t\tuni.createSelectorQuery()\r\n\t\t\t\t.selectViewport()\r\n\t\t\t\t.scrollOffset(res => {\r\n\t\t\t\t\tvar scrollTop = res.scrollTop;\r\n\t\t\t\t\tlet view = uni.createSelectorQuery().select('#post-' + this.index);\r\n\t\t\t\t\tview.boundingClientRect(data => {\r\n\t\t\t\t\t\tconsole.log('data:' + JSON.stringify(data));\r\n\t\t\t\t\t\tconsole.log('手机屏幕高度:' + this.screenHeight);\r\n\t\t\t\t\t\tconsole.log('竖直滚动位置' + scrollTop);\r\n\t\t\t\t\t\tconsole.log('节点离页面顶部的距离为' + data.top);\r\n\t\t\t\t\t\tconsole.log('节点高度为' + data.height);\r\n\t\t\t\t\t\tconsole.log('窗口高度为' + this.windowHeight);\r\n\r\n\t\t\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\t\t\tscrollTop: scrollTop - (this.windowHeight - (data.height + data.top + 45)), //一顿乱算\r\n\t\t\t\t\t\t\t// scrollTop: 50,\r\n\t\t\t\t\t\t\tduration: 300\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).exec();\r\n\t\t\t\t})\r\n\t\t\t\t.exec();\r\n\t\t},\r\n\t\treply(index, comment_index) {\r\n\t\t\tthis.is_reply = true; //回复中\r\n\t\t\tthis.showInput = true; //调起input框\r\n\t\t\tlet replyTo = this.posts[index].comments.comment[comment_index].username;\r\n\t\t\tthis.input_placeholder = '回复' + replyTo;\r\n\t\t\tthis.index = index; //post索引\r\n\t\t\tthis.comment_index = comment_index; //评论索引\r\n\t\t\tthis.focus = true;\r\n\t\t},\r\n\t\tblur: function() {\r\n\t\t\tthis.init_input();\r\n\t\t},\r\n\t\tsend_comment: function(message) {\r\n\t\t\tif (this.is_reply) {\r\n\t\t\t\tvar reply_username = this.posts[this.index].comments.comment[this.comment_index].username;\r\n\t\t\t\tvar comment_content = '回复' + reply_username + ':' + message.content;\r\n\t\t\t} else {\r\n\t\t\t\tvar comment_content = message.content;\r\n\t\t\t}\r\n\t\t\tthis.posts[this.index].comments.total += 1;\r\n\t\t\tthis.posts[this.index].comments.comment.push({\r\n\t\t\t\tuid: this.user_id,\r\n\t\t\t\tusername: this.username,\r\n\t\t\t\tcontent: comment_content //直接获取input中的值\r\n\t\t\t});\r\n\t\t\tthis.init_input();\r\n\t\t},\r\n\t\tinit_input() {\r\n\t\t\tthis.showInput = false;\r\n\t\t\tthis.focus = false;\r\n\t\t\tthis.input_placeholder = '评论';\r\n\t\t\tthis.is_reply = false;\r\n\t\t},\r\n\t\tpreviewImage(image, image_index) {\r\n\t\t\tlet imgs = [];\r\n\t\t\tfor (let i = 0; i < image.length; i++) {\r\n\t\t\t\timgs.push(image[image_index].pic);\r\n\t\t\t}\r\n\t\t\tlet current = image[image_index].pic;\r\n\t\t\tconsole.log(current);\r\n\t\t\tuni.previewImage({\r\n\t\t\t\tcurrent: current,\r\n\t\t\t\turls: imgs\r\n\t\t\t});\r\n\t\t},\r\n\t\tonShareAppMessage: function(ops) {\r\n\t\t\tif (ops.from === 'button') {\r\n\t\t\t\t// 来自页面内转发按钮\r\n\t\t\t\tconsole.log(ops.target);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ttitle: this.wxTit,\r\n\t\t\t\tpath: 'pages/tabBar/home',\r\n\t\t\t\timageUrl: this.imageUrl,\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t// 转发成功\r\n\t\t\t\t\tconsole.log('转发成功:' + JSON.stringify(res));\r\n\t\t\t\t},\r\n\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t// 转发失败\r\n\t\t\t\t\tconsole.log('转发失败:' + JSON.stringify(res));\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tfffx() {\r\n\t\t}\r\n\t}\r\n};\r\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./home.vue?vue&type=template&id=3f478ad9&scoped=true&\"\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&id=3f478ad9&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f478ad9\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3f478ad9', component.options)\n    } else {\n      api.reload('3f478ad9', component.options)\n    }\n    module.hot.accept(\"./home.vue?vue&type=template&id=3f478ad9&scoped=true&\", function () {\n      api.rerender('3f478ad9', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/app_Jian_Bao/app_Jian_Bao/pages/tabBar/home.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./home.vue?vue&type=style&index=0&id=3f478ad9&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./home.vue?vue&type=style&index=0&id=3f478ad9&scoped=true&lang=scss&\"","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./home.vue?vue&type=template&id=3f478ad9&scoped=true&\""],"sourceRoot":""}